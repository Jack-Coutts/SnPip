<!-- Jinija syntax - extending the base template by adding content in the block content section-->
{%extends "base.html" %}
{% block title %} Search SNPs {% endblock %}
{% block content %}

{{search_type}}
{{search_entry}}
{{subpops}}

<div class='mt-sm-3'style="margin:auto;max-width:1000px">
  <center><h2>Search Results</h2></center>
</div>

<br>


<!-- Text stating search time and SNP number -->
<center>
<div class="alert alert-success">
  <strong>{{num_snps}}</strong> 
  <strong>{{runtime}}</strong>
  <br>
  <strong>  {{Searched_pops}} </strong>
</div>
</center>

<br>


<!-- One table for SNP info and then a table per subpop -->
<!-- Tables are conatined in modals which can be selected -->

<!-- Table in which each search row is iterated over and added to the table rows/cells -->
<!-- In a conatainer to allow table scrolling -->

<center>
<div class="btn-group" role="toolbar" aria-label="Toolbar with button groups">
  <div class="container">
    
    <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#myModal">
    Open SNP Information
  </button>

    
    <!-- The Modal -->
  <div class="modal" id="myModal" >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">SNP Info</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="clusterize" >
          <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
        
            <thead>
        
              <tr>
        
                {% for header in head %}
                <th class="th-sm font-weight-bold">{{header}}</th>
                {% endfor %}
        
              </tr>
                
            </thead>  
        
          </table>
          <div id="scrollArea" class="clusterize-scroll">
            <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
              <tbody id="contentArea" class="clusterize-content"> 
        
                {{data|safe}}
        
              </tbody>
        
            </table>
          </div>
        </div>
        

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  </div>


  <!-- Table heading -->

  <div class="container">
    
    <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#BENGALI">
    Open BEB SNP Infomormation
  </button>

    
    <!-- The Modal -->
  <div class="modal" id="BENGALI" >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Bengali</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="clusterize" >
          <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
        
            <thead>
        
              <tr>
        
                {% for header in bhead %}
                <th class="th-sm font-weight-bold">{{header}}</th>
                {% endfor %}
        
              </tr>
                
            </thead>  
        
          </table>
          <div id="scrollArea" class="clusterize-scroll">
        
              {{BEB|safe}}

          </div>
        </div>
        

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  </div>
  

  <!-- Table heading -->

  <div class="container">
    
    <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#GBR">
    Open GBR SNP Infomormation
  </button>

    
    <!-- The Modal -->
  <div class="modal" id="GBR" >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">GBR</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="clusterize" >
          <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
        
            <thead>
        
              <tr>
        
                {% for header in ghead %}
                <th class="th-sm font-weight-bold">{{header}}</th>
                {% endfor %}
        
              </tr>
                
            </thead>  
        
          </table>
          <div id="scrollArea" class="clusterize-scroll">
            <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
              <tbody id="contentArea" class="clusterize-content"> 
        
                {{GBR|safe}}
        
              </tbody>
        
            </table>
          </div>
        </div>
        

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  </div>


  <!-- Table heading -->

  <div class="container">
    
    <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#CHINA">
    Open CHB SNP Infomormation
  </button>

    
    <!-- The Modal -->
  <div class="modal" id="CHINA" >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">China</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="clusterize" >
          <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
        
            <thead>
        
              <tr>
        
                {% for header in chead %}
                <th class="th-sm font-weight-bold">{{header}}</th>
                {% endfor %}
        
              </tr>
                
            </thead>  
        
          </table>
          <div id="scrollArea" class="clusterize-scroll">
            <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
              <tbody id="contentArea" class="clusterize-content"> 
        
                {{CHB|safe}}
        
              </tbody>
        
            </table>
          </div>
        </div>
        

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  </div>


  <!-- Table in which each search row is iterated over and added to the table rows/cells -->
  <!-- In a conatainer to allow table scrolling -->

  <div class="container">
    
    <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#PERU">
    Open PEL SNP Infomormation
  </button>

    
    <!-- The Modal -->
  <div class="modal" id="PERU" >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Peru</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="clusterize" >
          <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
        
            <thead>
        
              <tr>
        
                {% for header in phead %}
                <th class="th-sm font-weight-bold">{{header}}</th>
                {% endfor %}
        
              </tr>
                
            </thead>  
        
          </table>
          <div id="scrollArea" class="clusterize-scroll">
            <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
              <tbody id="contentArea" class="clusterize-content"> 
        
                {{PEL|safe}}
        
              </tbody>
        
            </table>
          </div>
        </div>
        

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  </div>


  <div class="container">
    
    <!-- Button to Open the Modal -->
  <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#NIGERIA">
    Open ESN SNP Infomormation
  </button>

    
    <!-- The Modal -->
  <div class="modal" id="NIGERIA" >
    <div class="modal-dialog modal-xl">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Nigeria</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="clusterize" >
          <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
        
            <thead>
        
              <tr>
        
                {% for header in ehead %}
                <th class="th-sm font-weight-bold">{{header}}</th>
                {% endfor %}
        
              </tr>
                
            </thead>  
        
          </table>
          <div id="scrollArea" class="clusterize-scroll">
            <table id="dtBasicExample" class="table table-striped table-bordered table-sm ">
              <tbody id="contentArea" class="clusterize-content"> 
        
                {{ESN|safe}}
        
              </tbody>
        
            </table>
          </div>
        </div>
        

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  </div>

</div>

</center>

<br>

<!-- Gene map post searching -->
<div>

  {{gene_map|safe}}

</div>


<!-- Three stats tables in a row, one of which is Hudson FST -->

<div class="container-fluid">
  <div class="row">
    <div class="clusterize clusterize-scroll col-sm-2">
      {{fst|safe}}
    </div>
    <div class="clusterize clusterize-scroll col-sm-10">
      
    </div>
  </div>
</div>

<br>
<br>

<div class="container-fluid">
  <div class="row">
    <div class="clusterize clusterize-scroll col-sm-2">
      {{Taj|safe}}
    </div>
    <div class="clusterize clusterize-scroll col-sm-10">
      
    </div>
  </div>
</div>

<br>
<br>

<div class="container-fluid">
  <div class="row">
    <div class="clusterize clusterize-scroll col-sm-2">
      {{Shann|safe}}
    </div>
    <div class="clusterize clusterize-scroll col-sm-10">

    </div>
  </div>
</div>

<br>
<br>

<div class="container-fluid">
  <div class="row">
    <div class="clusterize clusterize-scroll col-sm-2">
      {{fst|safe}}
    </div>
    <div class="clusterize clusterize-scroll col-sm-10">
      {{Taj|safe}}
    </div>
  </div>
</div>

<br>
<br>

{% endblock %}
